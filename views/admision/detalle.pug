extends ../layout

block content
  .d-flex.justify-content-between.align-items-center.mb-4
    h2.mb-0= title
    a.btn.btn-outline-secondary(href="/admisiones") ← Volver al Listado

  .row
    .col-md-7
      .card.mb-4
        .card-header.fw-bold Datos del Paciente
        .card-body
          dl.row.mb-0
            dt.col-sm-4 DNI
            dd.col-sm-8= admision.paciente.dni
            dt.col-sm-4 Nombre Completo
            dd.col-sm-8= admision.paciente.nombrePaciente + ' ' + admision.paciente.apellidoPaciente
            dt.col-sm-4 Fecha de Nacimiento
            dd.col-sm-8= new Date(admision.paciente.fechaNacimientoPaciente).toLocaleDateString('es-AR')
            dt.col-sm-4 Género
            dd.col-sm-8= admision.paciente.genero === 'M' ? 'Masculino' : 'Femenino'

      .card
        .card-header.fw-bold Datos de la Admisión
        .card-body
          dl.row.mb-0
            dt.col-sm-4 Fecha y Hora de Ingreso
            dd.col-sm-8= new Date(admision.fechaHoraAdmision).toLocaleString('es-AR')
            dt.col-sm-4 Tipo de Admisión
            dd.col-sm-8= admision.tipoAdmision
            dt.col-sm-4 Motivo de Admisión
            dd.col-sm-8= admision.motivoDeAdmision
            dt.col-sm-4 Médico Derivante
            dd.col-sm-8= admision.medicoDerivante || 'N/A'
            dt.col-sm-4 Registrado por
            dd.col-sm-8= admision.registradoPor.nombreUsuario
            dt.col-sm-4 Fecha de Registro
            dd.col-sm-8= new Date(admision.createdAt).toLocaleString('es-AR')

    .col-md-5
      .card
        .card-header.fw-bold Ubicación y Acciones
        .card-body
          if admision.camaAsignada
            h5.card-title Ubicación Asignada
            dl.row.mb-0
              dt.col-sm-4 Ala
              dd.col-sm-8= admision.camaAsignada.habitacion.ala.nombre
              dt.col-sm-4 Habitación
              dd.col-sm-8= admision.camaAsignada.habitacion.numero
              dt.col-sm-4 Cama
              dd.col-sm-8.fw-bold= admision.camaAsignada.codigo
            hr
            a.btn.btn-danger(href="#") Dar de Alta
          else
            h5.card-title Cama no Asignada
            p.card-text Este paciente aún no tiene una cama asignada.
            a.btn.btn-success.w-100(href=`/admisiones/${admision.id}/asignar-cama`)
              | Asignar Cama Ahora
